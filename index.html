<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perpustakaan Online â€” PDM GROUP 2</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Preloader dengan animasi teks -->
    <div id="preloader">
        <div class="text-animation-container">
            <div class="animated-text">
                <span class="char">M</span>
                <span class="char">E</span>
                <span class="char">M</span>
                <span class="char">B</span>
                <span class="char">A</span>
                <span class="char">C</span>
                <span class="char">A</span>
                <span class="char space"></span>
                <span class="char">T</span>
                <span class="char">I</span>
                <span class="char">D</span>
                <span class="char">A</span>
                <span class="char">K</span>
                <span class="char space"></span>
                <span class="char">H</span>
                <span class="char">A</span>
                <span class="char">R</span>
                <span class="char">U</span>
                <span class="char">S</span>
                <span class="char space"></span>
                <span class="char">S</span>
                <span class="char">E</span>
                <span class="char">C</span>
                <span class="char">A</span>
                <span class="char">R</span>
                <span class="char">A</span>
                <span class="char space"></span>
                <span class="char">L</span>
                <span class="char">A</span>
                <span class="char">N</span>
                <span class="char">G</span>
                <span class="char">S</span>
                <span class="char">U</span>
                <span class="char">N</span>
                <span class="char">G</span>
                <span class="char">!</span>
            </div>
            <div class="subtitle-animation">Perpustakaan Online PDM GROUP 2</div>
        </div>
    </div>

    <header>
        <div class="brand">
            <div class="logo-container">
                <img src="assets/image/a.png" alt="Logo Perpustakaan" class="logo-img">
            </div>
            <div>
                <div class="title">Perpustakaan Online â€” PDM GROUP 2</div>
                <div class="subtitle">Daftarkan akun, login, dan pinjam buku secara digital</div>
            </div>
        </div>


        <div class="controls">
            <div id="userInfo" class="muted small">Belum masuk</div>
            <button id="btnShowLogin">Login / Register</button>
            <button id="btnDashboard" style="display:none; background: #3498db; border: none; color: white;">Dashboard</button>
            <button id="btnLogout" style="display:none">Logout</button>
            <button id="btnEditBooks" style="background: #27ae60; border: none; color: white; display: none;">Edit Buku</button>
            <button id="btnResetData" style="background: var(--danger); border: none; color: white;">Reset Data</button>
        </div>
    </header>

    <main>
        <aside class="sidebar">
            <div class="card">
                <h3>Profil</h3>
                <div id="profileArea" class="muted small">Silakan login untuk melihat profil.</div>
            </div>

            <div class="card">
                <h3>Pinjaman Aktif</h3>
                <div id="borrowList">Tidak ada pinjaman.</div>
            </div>

            <div class="card">
                <h3>Aturan Pinjam & Penalty</h3>
                <ul class="muted small">
                    <li>Harus memiliki akun untuk meminjam</li>
                    <li>Durasi pinjam pilihan: 1 hingga 7 hari</li>
                    <li>Maksimum pinjaman bersamaan: 5 buku</li>
                    <li>Penalty: Rp 2.000 per hari keterlambatan</li>
                    <li>Maksimal keterlambatan: 30 hari (akun diblokir)</li>
                    <li>Penalty harus dibayar untuk peminjaman baru</li>
                </ul>
            </div>
        </aside>

        <section>
            <!-- Halaman Katalog (default) -->
            <div id="catalogPage" class="page active">
                <div class="card">
                    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px">
                        <div>
                            <h2 style="margin:0">Katalog Buku</h2>
                            <div class="muted small">Temukan buku yang Anda sukai</div>
                        </div>
                        <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
                            <input id="searchInput" placeholder="Cari judul, penulis, atau genre" style="width:200px" />
                            <select id="genreFilter" style="width:200px">
                                <option value="">Semua Genre</option>
                            </select>
                            <button id="randomizeBtn">ðŸ”€ Acak Buku</button>
                            <button id="clearCategoryFilter" style="display:none; background: var(--danger); color: white; border: none;">
                                âœ• Hapus Filter
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Kategori Buku dengan gambar -->
                <div class="card categories-section">
                    <h3 style="margin:0 0 16px 0">ðŸ“š Kategori Buku</h3>
                    <div class="categories-grid" id="categoriesGrid">
                        <!-- Kategori akan diisi oleh JavaScript -->
                    </div>
                </div>

                <!-- Section Rekomendasi -->
                <div class="card">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                        <h3 style="margin:0">ðŸ“š Rekomendasi untuk Anda</h3>
                        <div class="muted small">Buku pilihan khusus</div>
                    </div>
                    <div class="books-grid" id="recommendedGrid"></div>
                </div>

                <!-- Section Trending -->
                <div class="card">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                        <h3 style="margin:0">ðŸ”¥ Sedang Trending</h3>
                        <div class="muted small">Paling banyak dipinjam</div>
                    </div>
                    <div class="books-grid" id="trendingGrid"></div>
                </div>

                <!-- Section Semua Buku -->
                <div class="card">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                        <h3 style="margin:0">ðŸ“– Semua Buku</h3>
                        <div class="muted small" id="bookCountText">Menampilkan semua buku</div>
                    </div>
                    <div class="books-grid" id="booksGrid"></div>
                </div>

                <div class="card">
                    <h3>Riwayat & Kelola</h3>
                    <div id="historyArea" class="muted small">Riwayat peminjaman akan muncul di sini.</div>
                </div>
            </div>

            <!-- Halaman Detail Buku -->
            <div id="detailPage" class="page">
                <div class="card">
                    <button id="backToCatalog" class="back-btn">&larr; Kembali ke Katalog</button>
                    <div id="bookDetailContent"></div>
                </div>
            </div>

            <!-- Halaman Baca Buku -->
            <div id="readPage" class="page">
                <div class="card">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
                        <button id="backFromRead" class="back-btn">&larr; Kembali</button>
                        <div>
                            <button id="downloadPdf" class="primary">ðŸ“¥ Download PDF</button>
                        </div>
                    </div>
                    <div id="bookReadContent">
                        <div class="pdf-viewer-container">
                            <iframe id="pdfViewer" width="100%" height="600px" frameborder="0"></iframe>
                        </div>
                        <div class="book-read-info">
                            <h2 id="readBookTitle"></h2>
                            <div class="muted" id="readBookAuthor"></div>
                            <div class="read-meta">
                                <div class="read-stat">
                                    <strong>Durasi Pinjam:</strong> <span id="readBorrowDuration"></span> hari
                                </div>
                                <div class="read-stat">
                                    <strong>Sisa Waktu:</strong> <span id="readTimeLeft"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Halaman Dashboard -->
            <div id="dashboardPage" class="page">
                <div class="card">
                    <button id="backToCatalogFromDashboard" class="back-btn">&larr; Kembali ke Katalog</button>
                    <h2>Dashboard Akun</h2>
                    <div id="dashboardContent">
                        <!-- Dashboard akan diisi JavaScript -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div>Data disimpan di browser (localStorage) ya!</div>
        <div class="muted small" style="margin-top: 8px;">
            Penalty: Rp 2.000 per hari keterlambatan | Maksimal keterlambatan: 30 hari
        </div>
    </footer>

    <!-- Modal Terms & Conditions -->
    <div id="termsModal" class="modal">
        <div class="modal-content terms-modal">
            <div id="termsContent"></div>
        </div>
    </div>

    <!-- Modal Login -->
    <div id="loginModal" class="modal">
        <div class="modal-content" style="width:420px;max-width:96%">
            <div id="loginModalContent"></div>
            <div style="display:flex;justify-content:flex-end;margin-top:12px;gap:8px">
                <button id="loginModalCancel">Batal</button>
                <button id="loginModalOk" class="primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Modal Edit Buku -->
    <div id="editBooksModal" class="modal">
        <div class="modal-content" style="width:600px;max-width:96%;max-height:80vh;overflow-y:auto">
            <div id="editBooksContent"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>